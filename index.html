<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    <title>Moonbeam Devlog</title>
    <link href="https://fonts.googleapis.com/css2?family=Fontdiner+Swanky&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Momo+Trust+Display&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: url('img/bkg.png') no-repeat center center / contain;
            background-color: #003049;
            color: #d9f5f0;
            font-family: 'Verdana', sans-serif;
            overflow-x: hidden;
        }

        img {
            display: block;
            margin: 0 auto;
        }

        .title-container {
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 60px 0 40px 0;
            padding: 0 20px;
            height: 300px;
        }

        #title-canvas {
            width: 100%;
            max-width: 900px;
            height: 500px;
            cursor: grab;
        }

        #title-canvas:active {
            cursor: grabbing;
        }

        /* Content Container */
        .content-wrapper {
            max-width: 900px;
            margin: 40px auto 0 auto;
            padding: 0 20px 120px 20px;
        }

        /* Post Toasts */
        .devlog-post {
            background: #2b2d42;
            border: 3px solid #88bbb2;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 40px;
            box-shadow: 
                0 8px 16px rgba(0, 0, 0, 0.3),
                0 0 30px rgba(136, 187, 178, 0.2),
                inset 0 1px 0 rgba(217, 245, 240, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .devlog-post:hover {
            transform: translateY(-4px);
            box-shadow: 
                0 12px 24px rgba(0, 0, 0, 0.4),
                0 0 40px rgba(136, 187, 178, 0.3),
                inset 0 1px 0 rgba(217, 245, 240, 0.1);
        }

        .post-header {
            border-bottom: 2px solid #88bbb2;
            padding-bottom: 15px;
            margin-bottom: 20px;
        }

        .post-title {
            font-family: 'Momo Trust Display', sans-serif;
            font-size: 36px;
            color: #0077b6;
            
            margin-bottom: 8px;
        }

        .post-date {
            font-size: 14px;
            color: #88bbb2;
            font-style: italic;
        }

        .post-content {
            line-height: 1.3;
            color: #d9f5f0;
            font-size: 12px;
        }

        .post-content.truncated {
            max-height: 150px;
            overflow: hidden;
            position: relative;
        }

        .post-content.truncated::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 60px;
        }

        .read-more-btn {
            margin-top: 15px;
            padding: 10px 24px;
            background: #0077b6;
            color: #d9f5f0;
            border: 2px solid #88bbb2;
            border-radius: 6px;
            font-family: 'Momo Trust Display', sans-serif;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        .read-more-btn:hover {
            background: #88bbb2;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
        }

        .back-to-top {
            position: fixed;
            bottom: 40px;
            right: 40px;
            width: 60px;
            height: 60px;
            background: #0077b6;
            border: 3px solid #d9f5f0;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
            transition: all 0.3s ease;
            z-index: 100;
        }

        .back-to-top:hover {
            background: #88bbb2;
            transform: translateY(-4px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.5);
        }

        .arrow {
            height: 32px;
            width: 32px;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 40px 20px 20px 20px;
            color: #88bbb2;
            font-size: 14px;
            max-width: 900px;
            margin: 0 auto;
        }

        .footer a {
            color: #e88e47;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer a:hover {
            color: #e8b946;
        }
        
       /* Media Queries */
       @media (max-width: 768px) {

           img {
            height: 250px; 
           }
           
            .title-container {
            height: 200px;
            }
    
            #title-canvas {
            height: 200px;
            }

            .back-to-top {
                bottom: 20px;
                right: 20px;
                width: 50px;
                height: 50px;
            }

           .arrow {
            height: 32px;
            width: 32px;
            }

            body {
            background: url('img/mobilebkg.png') no-repeat center center / cover;
            }
        }
    </style>
</head>
<body>
    
    <div class="title-container">
        <canvas id="title-canvas"></canvas>
    </div>
<br />
    <div class="content-wrapper">

         <div class="devlog-post">
            <div class="post-header">
                <h2 class="post-title">R is for Robot</h2>
                <div class="post-date">December 4, 2025</div>
            </div>
            <div class="post-content truncated" id="post-3-content">
                <p>And S is for Stardust!!!</p>
                <p style="margin-top: 15px;">
                    I made that whole last post about 3D art without even getting into the game itself! I've been having a ton of fun modeling this scene (intended as a promo) using a little bit of everything I've been teaching myself. We've got some fun procedural stuff like the pile of capsules at the bottom of the crane machine and the gloopy liquid in the pipes, some done-by-hand animations like Laika’s front paw moving as well as the crane arm hitting the capsule, animating textures moving on the ringed planet, animating emissions/lights on and off, generating noise on the F curve to make Laika bark, a simple bone rig for her wagging antenna... and I even challenged myself to make a slinky and a rolled up scroll of paper!  
                    <br /><br />
                    This has been a fun learning experience, but I mainly wanted to start modeling so that Moonbeam has a hybrid 2D/3D art style. 3D is super nostalgic for me, and you'll see I'm drawing inspo from some of my faves, games like Spyro and deBlob. And, though Moonbeam is nothing like old Resident Evil or Final Fantasy games, the call to render things in 3D to make them into 2D assets is too real to ignore. Once I'm done with this (admittedly very messy) animation it'll be time to model the collectible art, make the intro sequence, and a few other FMVs! 
                    <br /><br />
                    <img src="img/dec4-3.png"> <img src="img/dec4-2.png"> <img src="img/dec4-1.png">
                           </p>
                </div>
                <button class="read-more-btn" onclick="togglePost('post-3-content', this)">Read More</button>
        </div>
        
        <div class="devlog-post">
            <div class="post-header">
                <h2 class="post-title">Welcome to the 3rd Dimension</h2>
                <div class="post-date">December 3, 2025</div>
            </div>
            <div class="post-content truncated" id="post-2-content">
                <p>Adventures in 3D Modeling!</p>
                <p style="margin-top: 15px;">
                  For the past two weeks I've been teaching myself how to use blender. Why, you might ask? I'm asking myself the same thing. 
                    <br /><br />
                    Blender. Is. Terrifying.
                    <br /><br />
                    Have you ever played a game with an impossibly deep 3D map? I'm talking like… checking out the depths of the ocean in Bladefist Bay or off the Echo Isles in Vanilla WOW. Places you're not supposed to explore. But if you're like me and you swim a bit further out to farm just one more dumb lobster monster and you get a glimpse of how far the coastline goes down... It was fathoms and fathoms in comparison to my little troll (but for me, only a few inches on my screen, right?) Used to fill me with literal dread. Once I was safely back on good old comprehendable sized land, I would have to tell myself “It's not real, Wimbles.” and reroute my anxiety.
                    <br /><br />
                    Well, my first few days ever touching a 3D art program turned out to be a constant fight with that part of my brain! The scaling, zooming in or looking at the geometry of meshes from the inside was doing a number on me. This spiral made my head spin!
                    <img src="img/dec3-1.png"> <img src="img/dec3-2.png">
                    <br /><br />
                    It's been getting better, but I still feel really tiny! Even though I can zoom way out on big things, that feels way more objective. Zooming in is where it feels weird. On the bright side… I totally get how Toy Story came together as an idea. I feel like if it didn't exist, but 3D modeling did, it would only be a matter of time before someone felt small while modeling the inside of some crane game machine and voila! A whole franchise born just like that.
                    </p>
                </div>
                <button class="read-more-btn" onclick="togglePost('post-2-content', this)">Read More</button>
        </div>

        <div class="devlog-post">
            <div class="post-header">
                <h2 class="post-title">Hello World!</h2>
                <div class="post-date">December 1, 2025</div>
            </div>
            <div class="post-content truncated" id="post-1-content">
                <p>Welcome to the Moonbeam devlog!</p>
                <p style="margin-top: 15px;">
                    I'm Wimbly, and this is the home base for my solo game project! Moonbeam is fast approaching the alpha stage and (I hope) will be your fave cozy go-to game in the future! Moonbeam’s protagonist, Cosmo is a cute TV headed robot tasked with cleaning up galaxies and rebuilding constellations. Collect stardust and moonbeams to build your own skybox, unlock new characters, customize your UI with special themes, and find your favorite radio stations (and maybe a few secrets!) while drifting through space. 
                <br /><br />
                    With the main game loop set up, the radio and power ups functional, the save system being implemented… I enter the daunting stage of polishing the art style (no wonder I'm writing devlogs instead!) 
                <br /><br />
                   Initially I wanted to go for a very Space Age/Googie vibe, with a little Rubber Hose just to make it really 50’s! However… I've grown a little attached to my stand-ins. They SAY make it exist and you can make it look good later, but now I'm just thinking how can I preserve this super clean minimalism while integrating the style I want to go for? I know updating Cosmo from a single dot will go a lot of the way, but I might end up replacing more things than I would like to. I just really like these moonbeams though!! I've got to figure out a way to make it all work together.
                <br /><br />
<img src="img/dec1.png">
                </div>
            <button class="read-more-btn" onclick="togglePost('post-1-content', this)">Read More</button>
        </div>
    </div>

    <div class="footer">
        2025 Team Moonbeam
    </div>
 <div class="back-to-top" onclick="scrollToTop()">
        <div class="back-to-top-arrow"><img src="img/up-arrow.png" class="arrow"></div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/RGBELoader.js"></script>
    
    <script>
        
        // Three.js
        const titleCanvas = document.getElementById('title-canvas');
        const titleScene = new THREE.Scene();
        const titleCamera = new THREE.PerspectiveCamera(45, titleCanvas.clientWidth / titleCanvas.clientHeight, 0.1, 1000);
        const titleRenderer = new THREE.WebGLRenderer({ canvas: titleCanvas, alpha: true, antialias: true });
        
        titleRenderer.setSize(titleCanvas.clientWidth, titleCanvas.clientHeight);
        titleRenderer.setClearColor(0x000000, 0);
        
        // Lighting
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.7);
        titleScene.add(ambientLight);
        
        const mainLight = new THREE.DirectionalLight(0xffffff, 0.6);
        mainLight.position.set(5, 5, 5);
        titleScene.add(mainLight);
        
        const fillLight = new THREE.DirectionalLight(0x88bbb2, 0.6);
        fillLight.position.set(-5, 3, 5);
        titleScene.add(fillLight);
        
        const backLight = new THREE.DirectionalLight(0x0077b6, 0.6);
        backLight.position.set(0, -3, -5);
        titleScene.add(backLight);
        
        titleCamera.position.z = 5;
        titleCamera.position.y = 0;

        // HDRI attempt
        const pmremGenerator = new THREE.PMREMGenerator(titleRenderer);
        pmremGenerator.compileEquirectangularShader();

        const rgbeLoader = new THREE.RGBELoader();
        rgbeLoader.load(
       'img/forest.exr',
        function(texture) {
        const envMap = pmremGenerator.fromEquirectangular(texture).texture;
        titleScene.environment = envMap;
        texture.dispose();
        pmremGenerator.dispose();
        },
        undefined,
        function(error) {
        console.error('Error loading HDRI:', error);
    }
);
        
        // Load GLB model
        const loader = new THREE.GLTFLoader();
        let titleModel = null;
        let targetRotationY = 0;
        let currentRotationY = 0;
        const maxRotation = Math.PI / 18; // 10 degrees
        
        loader.load(
            'models/MoonbeamLogo.glb', 
            function (gltf) {
                titleModel = gltf.scene;
                titleScene.add(titleModel);
                
                // Center and scale
                const box = new THREE.Box3().setFromObject(titleModel);
                const center = box.getCenter(new THREE.Vector3());
                titleModel.position.sub(center);
                
                // titleModel.scale.set(1, 1, 1);
            },
            function (xhr) {
                console.log((xhr.loaded / xhr.total * 100) + '% loaded');
            },
            function (error) {
                console.error('Error loading model:', error);
            }
        );
        
        // Mouse interaction
        let isDraggingTitle = false;
        let previousMouseX = 0;
        
        titleCanvas.addEventListener('mousedown', (e) => {
            isDraggingTitle = true;
            previousMouseX = e.clientX;
        });
        
        titleCanvas.addEventListener('mousemove', (e) => {
            if (isDraggingTitle && titleModel) {
                const deltaX = e.clientX - previousMouseX;
                targetRotationY += deltaX * 0.01;
                // Clamp rotation to +/- 45 degrees
                targetRotationY = Math.max(-maxRotation, Math.min(maxRotation, targetRotationY));
                previousMouseX = e.clientX;
            }
        });
        
        titleCanvas.addEventListener('mouseup', () => {
            isDraggingTitle = false;
        });
        
        titleCanvas.addEventListener('mouseleave', () => {
            isDraggingTitle = false;
        });
        
        // Touch support
        let previousTouchX = 0;
        
        titleCanvas.addEventListener('touchstart', (e) => {
            isDraggingTitle = true;
            previousTouchX = e.touches[0].clientX;
        });
        
        titleCanvas.addEventListener('touchmove', (e) => {
            if (isDraggingTitle && titleModel) {
                const deltaX = e.touches[0].clientX - previousTouchX;
                targetRotationY += deltaX * 0.01;
                targetRotationY = Math.max(-maxRotation, Math.min(maxRotation, targetRotationY));
                previousTouchX = e.touches[0].clientX;
            }
        });
        
        titleCanvas.addEventListener('touchend', () => {
            isDraggingTitle = false;
        });
        
        // Animation loop
        function animateTitle() {
            requestAnimationFrame(animateTitle);
            
            if (titleModel) {
                // Rotation interpolation
                currentRotationY += (targetRotationY - currentRotationY) * 0.1;
                titleModel.rotation.y = currentRotationY;
                
                // Float
                if (!isDraggingTitle) {
                    titleModel.position.y = Math.sin(Date.now() * 0.0005) * 0.1;
                }
            }
            
            titleRenderer.render(titleScene, titleCamera);
        }
        
        animateTitle();
        
        window.addEventListener('resize', () => {
            const width = titleCanvas.clientWidth;
            const height = titleCanvas.clientHeight;
            titleCamera.aspect = width / height;
            titleCamera.updateProjectionMatrix();
            titleRenderer.setSize(width, height);
        });
        
        // Post expansion
        function togglePost(contentId, button) {
            const content = document.getElementById(contentId);
            const isTruncated = content.classList.contains('truncated');
            
            if (isTruncated) {
                content.classList.remove('truncated');
                button.textContent = 'Show Less';
            } else {
                content.classList.add('truncated');
                button.textContent = 'Read More';
            }
        }
        
        // Scroll to top
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }
    </script>
</body>
</html>
